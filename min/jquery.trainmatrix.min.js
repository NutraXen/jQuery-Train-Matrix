$.fn.trainmatrix=function(a){var e={matrixText:this.html()};var c=$.extend(e,a);function b(f){switch(f){case"&":theClassChar="punc_amp";f="&amp;";break;case"!":theClassChar="punc_exc";break;case".":theClassChar="punc_period";break;case",":theClassChar="punc_comma";break;case'"':theClassChar="punc_sdquo";break;case"'":theClassChar="punc_rsquo";break;case"“":theClassChar="punc_ldquo";break;case"”":theClassChar="punc_rdquo";break;case"•":theClassChar="punc_bull";break;case"*":theClassChar="punc_star";break;case"^":theClassChar="punc_carrot";break;case"=":theClassChar="punc_equals";break;case"+":theClassChar="punc_plus";break;case"-":theClassChar="punc_minus";break;case"_":theClassChar="punc_under";break;case"/":theClassChar="punc_slash";break;case"\\":theClassChar="punc_bslash";break;case"<":theClassChar="punc_gt";break;case">":theClassChar="punc_lt";break;case"£":theClassChar="punc_pound";break;case"@":theClassChar="punc_at";break;case"(":theClassChar="punc_obrac";break;case")":theClassChar="punc_cbrac";break;case"[":theClassChar="punc_obrac";break;case"]":theClassChar="punc_cbrac";break;case"{":theClassChar="punc_ocbrac";break;case"}":theClassChar="punc_ccbrac";break;case":":theClassChar="punc_colo";break;case";":theClassChar="punc_scolo";break;default:theClassChar="let_"+f;}return'<span class="letter '+theClassChar.toLowerCase()+'"><span class="col1"><span class="row1">'+f+'</span><span class="row2"></span><span class="row3"></span><span class="row4"></span><span class="row5"></span></span><span class="col2"><span class="row1"></span><span class="row2"></span><span class="row3"></span><span class="row4"></span><span class="row5"></span></span><span class="col3"><span class="row1"></span><span class="row2"></span><span class="row3"></span><span class="row4"></span><span class="row5"></span></span></span>';}function d(g){var f="";$.each(g,function(h){f+=b(this);});return f;}this.html(d(c.matrixText));return this;};